services:
  matriculaai-gateway:
    image: ghcr.io/isaacmsl/matriculaai-gateway:latest
    networks:
      - matriculaai-network
    ports:
      - "8080:8083"
    depends_on:
      - matriculaai-backend
      - matriculaai-frontend

  matriculaai-backend:
    image: ghcr.io/isaacmsl/matriculaai-backend:latest
    networks:
      - matriculaai-network
      - infra-network
    env_file:
      .env-backend
  
  matriculaai-frontend:
    image: ghcr.io/isaacmsl/matriculaai-frontend:latest
    networks:
      - matriculaai-network

networks:
  matriculaai-network:
    name: matriculaai-network
    driver: bridge
  infra-network:
    name: infra-network
    driver: bridge
    external: true